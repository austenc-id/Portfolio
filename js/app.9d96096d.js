(function(){"use strict";var e={859:function(e,t,n){var r=n(963),s=n(252);const a={key:1,class:"app"};function i(e,t,n,r,i,o){const c=(0,s.up)("LoadScreen"),l=(0,s.up)("Header"),h=(0,s.up)("Navbar");return i.active.loadScreen?((0,s.wg)(),(0,s.j4)(c,{key:0,message:i.loading.message,time:i.loading.time},null,8,["message","time"])):((0,s.wg)(),(0,s.iD)("main",a,[(0,s.Wm)(l,{titles:i.header.titles,links:i.header.links},null,8,["titles","links"]),(0,s.Wm)(h,{chapters:i.chapters},null,8,["chapters"])]))}var o=n(577);const c={class:"load-screen"},l={class:"message"},h={class:"timer"};function u(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("main",c,[(0,s._)("h1",l,(0,o.zw)(n.message),1),(0,s._)("h2",h,(0,o.zw)(n.time),1)])}var p={name:"LoadScreen",props:{message:String,time:[String,Number]}},d=n(744);const m=(0,d.Z)(p,[["render",u]]);var v=m;const g={class:"titles"},y={class:"title"},f={class:"title"},w={class:"links"},k=["href","innerHTML"];function b(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("div",g,[(0,s._)("h1",y,(0,o.zw)(n.titles.title),1),(0,s._)("h2",f,(0,o.zw)(n.titles.subTitle),1)]),(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.links,(e=>((0,s.wg)(),(0,s.iD)("a",{href:e.url,innerHTML:e.icon,target:"_blank",class:"link"},null,8,k)))),256))])])}var D={name:"Header",props:{titles:Object,links:Object}};const C=(0,d.Z)(D,[["render",b]]);var L=C;const S={class:"chapters"},H=["id","onClick","innerHTML"];function O(e,t,n,r,a,i){const o=(0,s.up)("Chapter");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.chapters,(e=>((0,s.wg)(),(0,s.iD)("h3",{id:"chapter-"+e.id,class:"link",onClick:t=>i.renderChapter(e),innerHTML:e.title},null,8,H)))),256))]),a.active.chapter?((0,s.wg)(),(0,s.j4)(o,{key:a.key,chapter:a.active.chapter},null,8,["chapter"])):(0,s.kq)("",!0)],64)}class j{sleep(e){let t=1e3*e;return new Promise((e=>setTimeout(e,t)))}resetActiveElements(){this.resetActiveStory();let e=document.getElementsByClassName("active");try{for(let t=0;t<e.length;t++){let n=e[t];n.classList.remove("active")}}catch{}}resetActiveStory(){try{let e=document.getElementsByClassName("story");for(let t=0;t<e.length;t++){let n=e[t];n.classList.remove("active")}}catch{}}compareIDs(e,t){return e.id<t.id?-1:e.id>t.id?1:0}}const T=new j,_={class:"chapter"},E=["innerHTML"];function N(e,t,n,r,a,i){const o=(0,s.up)("StoryNav");return(0,s.wg)(),(0,s.iD)("section",_,[(0,s._)("h1",{class:"title",innerHTML:n.chapter.title},null,8,E),(0,s.Wm)(o,{stories:n.chapter.stories},null,8,["stories"])])}const A={class:"stories"},M=["id","onClick"];function Z(e,t,n,r,a,i){const c=(0,s.up)("Story");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.stories,(e=>((0,s.wg)(),(0,s.iD)("h4",{id:"story-"+e.id,onClick:t=>i.renderStory(e),class:"link story"},(0,o.zw)(e.title),9,M)))),256))]),a.active.story?((0,s.wg)(),(0,s.j4)(c,{key:0,story:a.active.story},null,8,["story"])):(0,s.kq)("",!0)],64)}const z={class:"story"},Y={class:"title"},I={class:"content"},R=["innerHTML"];function U(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("h3",Y,(0,o.zw)(n.story.title),1),(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.story.paragraphs,(e=>((0,s.wg)(),(0,s.iD)("p",{innerHTML:e.content},null,8,R)))),256))])])}var x={name:"Story",props:{story:Object}};const B=(0,d.Z)(x,[["render",U]]);var K=B,W={name:"StoryNav",props:{stories:Array,key:Number},components:{Story:K},mounted(){this.renderStory(this.stories[0])},updated(){},data(){return{active:{story:!1}}},methods:{async renderStory(e){T.resetActiveStory(),e.paragraphs.sort(T.compareIDs),this.active.story=e,await T.sleep(.01).then((t=>{document.getElementById(`story-${e.id}`).classList.add("active")}))}}};const P=(0,d.Z)(W,[["render",Z]]);var q=P,$={name:"Chapter",components:{StoryNav:q},props:{chapter:Object}};const F=(0,d.Z)($,[["render",N]]);var G=F,J={name:"Navbar",props:{chapters:Array},components:{Chapter:G},created(){this.renderChapter(this.chapters[0])},data(){return{active:{chapter:!1},key:0}},methods:{keyChange(){this.key++},async renderChapter(e){this.keyChange(),e.stories.sort(T.compareIDs),this.active.chapter=e,T.resetActiveElements(),await T.sleep(.01).then((t=>{document.getElementById(`chapter-${e.id}`).classList.add("active")}))}}};const Q=(0,d.Z)(J,[["render",O]]);var V=Q;class X{async fetchContent(e){let t=[],n=[];return await this.fetchURL(e+"/links").then((e=>t=e.results)),await this.fetchURL(e+"/chapters").then((e=>n=e.results)),await this.fetchDetails(n).then((e=>n=e)).catch((e=>console.log(e))),{links:t,chapters:n}}async fetchDetails(e){return e.forEach((e=>{let t=[];e.stories.forEach((e=>{this.fetchURL(e).then((e=>{let t=[];return e.paragraphs.forEach((e=>{this.fetchURL(e).then((e=>t.push(e)))})),e.paragraphs=t,e})).then((e=>t.push(e)))})),e.stories=t})),e}async fetchURL(e){let t=await fetch(e).then((e=>e.json())).catch((e=>console.log(e)));return t}}const ee=new X;var te={name:"App",components:{LoadScreen:v,Header:L,Navbar:V},created(){this.loadContent()},mounted(){},data(){return{urls:{base:"https://acmf-dev.herokuapp.com/api"},active:{loadScreen:!0},loading:{message:"Waking up Heroku Dyno...",time:"(may take up to 10 seconds)"},header:{titles:{title:"Austen Myers",subTitle:"Demo"},links:[]},chapters:[]}},methods:{async loadContent(){await ee.fetchContent(this.urls.base).then((e=>{this.loading.message="Collecting Data...",this.loading.time=5,this.header.links=e.links,this.chapters=e.chapters,this.countdown()}))},async countdown(){while(this.loading.time>0)await T.sleep(1).then((e=>{this.loading.time--,console.log(this.loading.time),0===this.loading.time&&(this.active.loadScreen=!1)})).catch((e=>console.log(e)))}}};const ne=(0,d.Z)(te,[["render",i]]);var re=ne;(0,r.ri)(re).mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,a){if(!r){var i=1/0;for(h=0;h<e.length;h++){r=e[h][0],s=e[h][1],a=e[h][2];for(var o=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(h--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[r,s,a]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var h=c(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(h)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(859)}));r=n.O(r)})();
//# sourceMappingURL=app.9d96096d.js.map